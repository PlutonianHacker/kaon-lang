#[repr(u8)]
#[derive(Debug, Clone)]
pub enum Opcode {
    Const,
    True,
    False,
    Nil,
    Unit,
    String,
    Add,
    Sub,
    Mul,
    Div,
    Mod,
    Negate,
    Equal,
    NotEqual,
    Gte,
    Lte,
    Gt,
    Lt,
    Not,
    BitAnd,
    BitOr,
    BitXor,
    DefGlobal,
    SetGlobal,
    GetGlobal,
    LoadLocal,
    SaveLocal,
    LoadUpValue,
    SaveUpValue,
    CloseUpValue,
    Jump,
    JumpIfTrue,
    JumpIfFalse,
    Call,
    Closure,
    Return,
    Del,
    Class,
    List,
    BuildTuple,
    BuildMap,
    GetIndex,
    SetIndex,
    Get,
    Set,
    Loop,
    Import,
    Halt,
}

impl From<u8> for Opcode {
    fn from(opcode: u8) -> Opcode {
        unsafe { std::mem::transmute(opcode) }
    }
}
